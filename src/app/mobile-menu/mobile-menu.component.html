<!-- Mobile Phone Frame -->
<div class="phone-demo-container">
  <div class="phone-frame">
    <!-- Phone Header -->
    <div class="phone-header">
      <div class="status-bar">
        <span class="time">12:34</span>
        <div class="status-icons">
          <span
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-wifi-icon lucide-wifi"
            >
              <path d="M12 20h.01" />
              <path d="M2 8.82a15 15 0 0 1 20 0" />
              <path d="M5 12.859a10 10 0 0 1 14 0" />
              <path d="M8.5 16.429a5 5 0 0 1 7 0" /></svg
          ></span>
          <span
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-battery-full-icon lucide-battery-full"
            >
              <path d="M10 10v4" />
              <path d="M14 10v4" />
              <path d="M22 14v-4" />
              <path d="M6 10v4" />
              <rect x="2" y="6" width="16" height="12" rx="2" /></svg
          ></span>
        </div>
      </div>
    </div>

    <!-- App Content -->
    <div class="phone-content">
      <!-- MENU VIEW -->
      <div class="view-container" *ngIf="currentStep === 'menu'">
        <!-- App Header -->
        <div class="app-header">
          <div class="restaurant-info">
            <h2 class="restaurant-name">Le Caf√© du Coin</h2>
            <p class="table-number">Table #7 ‚Ä¢ QR scann√© ‚úì</p>
          </div>
          <button
            class="cart-button"
            (click)="goToCart()"
            [class.has-items]="cartItemsCount > 0"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-shopping-cart-icon lucide-shopping-cart"
            >
              <circle cx="8" cy="21" r="1" />
              <circle cx="19" cy="21" r="1" />
              <path
                d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"
              />
            </svg>
            <span class="cart-badge" *ngIf="cartItemsCount > 0">{{
              cartItemsCount
            }}</span>
          </button>
        </div>

        <!-- Menu Content -->
        <div class="menu-content">
          <div *ngFor="let category of getCategories()" class="menu-category">
            <h3 class="category-title">{{ category }}</h3>

            <div class="menu-items">
              <div
                *ngFor="let item of getItemsByCategory(category)"
                class="menu-item"
              >
                <div class="item-info">
                  <div class="item-emoji">{{ item.emoji }}</div>
                  <div class="item-details">
                    <h4 class="item-name">{{ item.name }}</h4>
                    <p class="item-description">{{ item.description }}</p>
                    <div class="item-footer">
                      <span class="item-price"
                        >{{ item.price.toFixed(2) }} DT</span
                      >
                      <span class="item-points">+{{ item.points }} pts üéÅ</span>
                    </div>
                  </div>
                </div>
                <button class="add-button" (click)="addToCart(item)">+</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- CART VIEW -->
      <div class="view-container" *ngIf="currentStep === 'cart'">
        <div class="app-header">
          <button class="back-button" (click)="backToMenu()">‚Üê Menu</button>
          <h2 class="view-title">Mon panier</h2>
          <div style="width: 40px"></div>
        </div>

        <div class="cart-content">
          <div *ngIf="cart.length === 0" class="empty-cart">
            <div class="empty-icon">üõí</div>
            <p>Votre panier est vide</p>
          </div>

          <div *ngIf="cart.length > 0" class="cart-items">
            <div *ngFor="let item of cart" class="cart-item">
              <div class="cart-item-info">
                <span class="cart-item-emoji">{{ item.emoji }}</span>
                <div class="cart-item-details">
                  <h4>{{ item.name }}</h4>
                  <p class="cart-item-price">{{ item.price.toFixed(2) }} DT</p>
                </div>
              </div>

              <div class="quantity-controls">
                <button class="qty-btn" (click)="removeFromCart(item.id)">
                  ‚àí
                </button>
                <span class="quantity">{{ item.quantity }}</span>
                <button class="qty-btn" (click)="addToCart(item)">+</button>
              </div>
            </div>
          </div>

          <div *ngIf="cart.length > 0" class="cart-summary">
            <div class="summary-row">
              <span>Total</span>
              <span class="summary-total">{{ cartTotal.toFixed(2) }} DT</span>
            </div>
            <div class="summary-row points-row">
              <span>Points gagn√©s</span>
              <span class="points-earned">+{{ earnedPoints }} pts üéÅ</span>
            </div>

            <button class="primary-button" (click)="goToPayment()">
              Valider la commande
            </button>
          </div>
        </div>
      </div>

      <!-- PAYMENT VIEW -->
      <div class="view-container" *ngIf="currentStep === 'payment'">
        <div class="app-header">
          <button class="back-button" (click)="backToCart()">‚Üê Panier</button>
          <h2 class="view-title">Paiement</h2>
          <div style="width: 40px"></div>
        </div>

        <div class="payment-content">
          <div class="order-summary">
            <h3>R√©sum√© de commande</h3>
            <div class="summary-items">
              <div *ngFor="let item of cart" class="summary-item">
                <span>{{ item.quantity }}x {{ item.name }}</span>
                <span>{{ (item.price * item.quantity).toFixed(2) }} DT</span>
              </div>
            </div>
            <div class="summary-total-row">
              <span>Total</span>
              <span class="total-amount">{{ cartTotal.toFixed(2) }} DT</span>
            </div>
          </div>

          <div class="payment-methods">
            <h3>Mode de paiement</h3>

            <button
              class="payment-method-btn"
              [class.selected]="selectedPaymentMethod === 'cash'"
              (click)="selectPaymentMethod('cash')"
            >
              <span class="payment-icon">üíµ</span>
              <div class="payment-info">
                <span class="payment-title">Esp√®ces</span>
                <span class="payment-subtitle">Payer au comptoir</span>
              </div>
              <span class="checkmark" *ngIf="selectedPaymentMethod === 'cash'"
                >‚úì</span
              >
            </button>
            <button
              class="payment-method-btn"
              [class.selected]="selectedPaymentMethod === 'card'"
              (click)="selectPaymentMethod('card')"
            >
              <span class="payment-icon">üí≥</span>
              <div class="payment-info">
                <span class="payment-title">Carte bancaire</span>
                <span class="payment-subtitle">Paiement s√©curis√© en ligne</span>
              </div>
              <span class="checkmark" *ngIf="selectedPaymentMethod === 'card'"
                >‚úì</span
              >
            </button>
          </div>

          <div class="points-preview">
            <div class="points-box">
              <span class="points-label">Vous allez gagner</span>
              <span class="points-value">+{{ earnedPoints }} points üéÅ</span>
            </div>
          </div>

          <button
            class="primary-button"
            [disabled]="!selectedPaymentMethod"
            (click)="confirmPayment()"
          >
            Confirmer le paiement
          </button>
        </div>
      </div>

      <!-- SUCCESS VIEW -->
      <div
        class="view-container success-view"
        *ngIf="currentStep === 'success'"
      >
        <div class="success-content">
          <div class="success-animation" [class.animate]="showPointsAnimation">
            <div class="success-icon">‚úì</div>
            <h2 class="success-title">Commande valid√©e !</h2>
            <p class="success-message">
              Votre commande a √©t√© transmise en cuisine
            </p>
          </div>

          <div class="success-points">
            <div
              class="points-earned-box"
              [class.animate]="showPointsAnimation"
            >
              <div class="points-icon">üéÅ</div>
              <div class="points-text">
                <span class="points-label">Points gagn√©s</span>
                <span class="points-amount">+{{ earnedPoints }} pts</span>
              </div>
            </div>

            <div class="total-points">
              <span>Solde total : {{ totalPoints }} points Loopa</span>
            </div>
          </div>

          <div class="order-details">
            <h3>D√©tails de commande</h3>
            <div class="detail-row">
              <span>Table</span>
              <span>#7</span>
            </div>
            <div class="detail-row">
              <span>Montant</span>
              <span>{{ cartTotal.toFixed(2) }} DT</span>
            </div>
            <div class="detail-row">
              <span>Paiement</span>
              <span>{{
                selectedPaymentMethod === "card" ? "Carte bancaire" : "Esp√®ces"
              }}</span>
            </div>
          </div>

          <button class="secondary-button" (click)="resetDemo()">
            Nouvelle commande
          </button>
        </div>
      </div>
    </div>

    <!-- Phone Bottom Bar -->
    <div class="phone-bottom-bar"></div>
  </div>

  <!-- Demo Label -->
  <div class="demo-label">
    <span>üì± D√©mo interactive ‚Ä¢ Essayez !</span>
  </div>
</div>
